<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<model>
    <version>v1</version>
    <datasources>
        <datasource name="hsqldb" class="com.platum.restflow.resource.impl.jdbc.JdbcRepository">
            <properties>
                <property name="jdbcUrl" value="jdbc:hsqldb:mem:test?shutdown=true"/>
                <property name="username" value="SA"/>
                <property name="password" value="SA"/>
                <property name="driverClassName" value="org.hsqldb.jdbcDriver"/>
            </properties>
        </datasource>
    </datasources>
    <resources>
        <resource name="resource_test" table="test" class="">
        	<datasource>hsqldb</datasource>
            <table>test</table>
            <idProperty>id</idProperty>
            <generateCrud>true</generateCrud>
            <internal>false</internal>
            <idAutoGenerated>true</idAutoGenerated>
            <properties>
                <property name="name">
                    <type>string</type>
                    <labelFromMessages>false</labelFromMessages>
                    <required>false</required>
                </property>
                <property name="surname" column="s_name">
                    <type>string</type>
                    <labelFromMessages>false</labelFromMessages>
                    <required>false</required>
                </property>    
                <property name="id" >
                    <type>integer</type>
                    <labelFromMessages>false</labelFromMessages>
                    <required>false</required>
                </property>                                
            </properties>
            <methods>
                <method name="insert">
                	 <url>post</url>
                    <query>
                    	insert into test (name, s_name)
                    	values (:name, :s_name)
                    </query>
                </method>
                <method name="update">
                	<url>put</url>
                    <query>
                    	update test set 
                    	name = :name, s_name = :surname 
                    	where id = :id
                    </query> 
                </method>  
                 <method name="delete">
                 	<url>delete</url>
                    <query>
                    	delete from test 
                    	where id = :id
                    </query>
                </method>   
                 <method name="get">
                 	<url>get</url>
                    <query>
                    	select * from test 
                    </query>
                    <columnAlias for="propertyName">c.name</columnAlias>
                    <wrap>true</wrap>
                </method>
                 <method name="getById">
                 	<url>get /:id</url>
                    <query>
                    	select * from test
                    	where id = :id
                    </query>
                </method>                                                                
            </methods>
        </resource>
    </resources>
</model>